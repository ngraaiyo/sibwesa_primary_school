{% load i18n %}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Top and Bottom Students - {{ class_name }}</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 10px;
            color: #333;
        }
        header {
            text-align: center;
            margin-bottom: 30px;
        }
        header h1 {
            font-size: 24px;
            margin: 0;
            color: #2c3e50;
        }
        header h2 {
            font-size: 20px;
            margin: 3px 0 0 0;
            color: #34495e;
        }
        h3 {
            color: #2c3e50;
            margin-top: 20px;
            margin-bottom: 10px;
            border-bottom: 2px solid #2c3e50;
            display: inline-block;
            padding-bottom: 5px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 10px;
            font-size: 14px;
        }
        th, td {
            border: 1px solid #555;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #3498db;
            color: white;
        }
        tr:nth-child(even) {
            background-color: #ecf0f1;
        }
        .top-table th {
            background-color: #27ae60;
        }
        .bottom-table th {
            background-color: #c0392b;
        }
        @page {
        margin: 10mm 10mm 10mm 10mm;
        @bottom-center {
            content: "Kabage Primary School | Â© {% now 'Y' %} | Page " counter(page) " of " counter(pages);
            font-size: 10px;
            color: #555;
        }
    }
    </style>
</head>
<body>
    <header>
        <h1>Kabage Primary School</h1>
        <h2>Top and Bottom Students - {{ class_name }}</h2>
    </header>

    <h3>Top 10 Students</h3>
    <table class="top-table">
        <thead>
            <tr>
                <th>Pos</th>
                <th>Name</th>
                <th>Total Score</th>
                <th>Average</th>
                <th>Grade</th>
            </tr>
        </thead>
        <tbody>
            {% for s in top_students %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ s.student.get_full_name }}</td>
                <td>{{ s.total_score }}</td>
                <td>{{ s.average|floatformat:2 }}</td>
                <td>{{ s.grade }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <h3>Bottom 10 Students</h3>
    <table class="bottom-table">
        <thead>
            <tr>
                <th>Pos</th>
                <th>Name</th>
                <th>Total Score</th>
                <th>Average</th>
                <th>Grade</th>
            </tr>
        </thead>
        <tbody>
            {% for s in bottom_students %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ s.student.get_full_name }}</td>
                <td>{{ s.total_score }}</td>
                <td>{{ s.average|floatformat:2 }}</td>
                <td>{{ s.grade }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</body>
</html>